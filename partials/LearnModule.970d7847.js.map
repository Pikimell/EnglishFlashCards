{"mappings":"oeACA,IAAAA,EAAAC,EAAA,S,0BAKA,MAAMC,EAAWC,SAASC,cAAc,SAClCC,EAAcF,SAASG,iBAAiB,cAgB9C,SAASC,IACPL,EAASM,UAAUC,IAAI,YACvBC,YAAW,KACTR,EAASM,UAAUG,OAAO,WAAW,GACpC,I,CAQL,SAASC,IACPC,EAAWC,eACPD,EAAWC,cAAgBC,EAAUC,SAAQH,EAAWC,aAAe,GAE3EG,EAAaJ,EAAWC,a,CAG1B,SAASI,IACPL,EAAWC,eACPD,EAAWC,cAAe,IAAID,EAAWC,cAAe,GAE5DG,EAAaJ,EAAWC,a,CAG1B,SAASG,EAAaE,GACpB,GAAIA,GAAS,GAAKA,EAAQJ,EAAUC,OAAQ,CAC1C,IAAII,EAAML,EAAUI,GAAOC,IACvBC,EAAMN,EAAUI,GAAOE,IAE3BD,EAAM,GAAGA,IAAME,QAAQ,IAAK,QAC5BpB,EAASqB,SAAS,GAAGC,YAAcJ,EACnClB,EAASqB,SAAS,GAAGC,YAAcH,C,MACjB,GAATF,IACTjB,EAASqB,SAAS,GAAGC,YAAc,QACnCtB,EAASqB,SAAS,GAAGC,YAAc,S,CAlDvCnB,EAAY,GAAGoB,iBAAiB,SAAS,KACvClB,IACAG,WAAWQ,EAAc,IAAI,IAG/Bb,EAAY,GAAGoB,iBAAiB,SAAS,KAiBvCvB,EAASM,UAAUkB,OAAO,SAhBhB,IAGZrB,EAAY,GAAGoB,iBAAiB,SAAS,KACvClB,IACAG,WAAWE,EAAc,IAAI,IAa/BV,EAASuB,iBAAiB,SAAUE,IAAD,IAgCnC,MAAMC,EAAO,CACXC,kBAAmB1B,SAASC,cAAc,iBAY5C,IAAI0B,EAAc,GACdf,EAAY,GAChB,MAAMF,EAAa,CACjBkB,iBAZA,WAaAC,eAAgB,KAChBlB,aAAc,OAOhBmB,iBACEjC,EAAAkC,QAAKC,eACL,MAAMC,QAAaC,EAAAC,UAAUC,SAC3B,sBACA1B,EAAWkB,iBACX,YAEFD,EAAcM,EAsBdR,EAAKC,kBAAkBW,WAAY,EAAAC,EAAAP,SAAmBJ,GApBtD9B,EAAAkC,QAAKQ,a,CAXPC,GAkCAf,EAAKC,kBAAkBJ,iBAAiB,SAGxC,SAAuBE,GACrB,GAAIA,EAAEiB,SAAWjB,EAAEkB,eACblB,EAAEiB,OAAOE,QAAQ,MAAMC,QAAQC,KAAOnC,EAAWmB,eAAgB,CACnE,IAAIiB,EAAW9C,SAASC,cACtB,0CAEE6C,GAAUA,EAASzC,UAAUG,OAAO,UAExCgB,EAAEiB,OAAOpC,UAAUC,IAAI,UACvBI,EAAWmB,eAAiBL,EAAEiB,OAAOE,QAAQ,MAAMC,QAAQC,GAhCjEf,eAAyBiB,GACvBnC,QAAkBsB,EAAAC,UAAUC,SAC1B,oBACAW,EACA,YAEEnC,EAAUC,OAAS,GACrBH,EAAWC,cAAe,EAC1BZ,EAASqB,SAAS,GAAGC,YAAc,QACnCtB,EAASqB,SAAS,GAAGC,YAAc,SACnCxB,EAAAkC,QAAKiB,KAAK,sBAAsBpC,EAAUC,WAE1ChB,EAAAkC,QAAKkB,KAAK,wC,CAqBRC,CAAUxC,EAAWmB,e","sources":["src/js/card.js"],"sourcesContent":["// ===================================================\nimport Nott from \"./modules/notiflix\";\nimport { DynamoAPI } from \"./modules/store/dynamo\";\nimport listModuleTemplate from \"../templates/moduleListTemplate.hbs\";\n// ===================================================\n\nconst cardElem = document.querySelector(\".card\");\nconst cardButtons = document.querySelectorAll(\".event-but\");\n\ncardButtons[0].addEventListener(\"click\", () => {\n  minimizeCard();\n  setTimeout(loadPrevWord, 500);\n});\n\ncardButtons[1].addEventListener(\"click\", () => {\n  turnCard();\n});\n\ncardButtons[2].addEventListener(\"click\", () => {\n  minimizeCard();\n  setTimeout(loadNextWord, 500);\n});\n\nfunction minimizeCard() {\n  cardElem.classList.add(\"minimize\");\n  setTimeout(() => {\n    cardElem.classList.remove(\"minimize\");\n  }, 600);\n}\n\nfunction turnCard() {\n  cardElem.classList.toggle(\"rotate\");\n}\ncardElem.addEventListener(\"click\", (e) => {});\n\nfunction loadNextWord() {\n  selectedId.selectedWord++;\n  if (selectedId.selectedWord >= listWords.length) selectedId.selectedWord = 0;\n\n  loadWordData(selectedId.selectedWord);\n}\n\nfunction loadPrevWord() {\n  selectedId.selectedWord--;\n  if (selectedId.selectedWord < -1) selectedId.selectedWord = -1;\n\n  loadWordData(selectedId.selectedWord);\n}\n\nfunction loadWordData(index) {\n  if (index >= 0 && index < listWords.length) {\n    let eng = listWords[index].eng;\n    let rus = listWords[index].rus;\n\n    eng = `${eng}`.replace(\"/\", \"<br>\");\n    cardElem.children[0].textContent = eng;\n    cardElem.children[1].textContent = rus;\n  } else if (index == -1) {\n    cardElem.children[0].textContent = \"Start\";\n    cardElem.children[1].textContent = \"Начать\";\n  }\n}\n\n// ===================================================== //\n\nconst refs = {\n  listModuleElement: document.querySelector(\".list-module\"),\n};\nconst categoryId = [\n  \"l7j8vhhs\",\n  \"l7j8vpm3\",\n  \"l7j8vqnv\",\n  \"l7j8vrz7\",\n  \"l7j8vufn\",\n  \"l7j8vx4r\",\n  \"l7j8w2cb\",\n];\n\nlet listModules = [];\nlet listWords = [];\nconst selectedId = {\n  selectedCategory: categoryId[0],\n  selectedModule: null,\n  selectedWord: null,\n};\n\n// ============================================ //\n\nloadData();\n\nasync function loadData() {\n  Nott.startLoading();\n  const data = await DynamoAPI.getItems(\n    \"flash-cards-modules\",\n    selectedId.selectedCategory,\n    \"idModule\"\n  );\n  listModules = data;\n  renderModules();\n  Nott.stopLoading();\n}\n\nasync function loadWords(idModule) {\n  listWords = await DynamoAPI.getItems(\n    \"flash-cards-words\",\n    idModule,\n    \"idModule\"\n  );\n  if (listWords.length > 0) {\n    selectedId.selectedWord = -1;\n    cardElem.children[0].textContent = \"Start\";\n    cardElem.children[1].textContent = \"Начать\";\n    Nott.info(`Завантаженно слів: ${listWords.length}`);\n  } else {\n    Nott.fail(`Нажаль у данній категорії слів немає(`);\n  }\n}\n\nfunction renderModules() {\n  refs.listModuleElement.innerHTML = listModuleTemplate(listModules);\n}\n// ============================================================ //\nrefs.listModuleElement.addEventListener(\"click\", onModuleClick);\n// ============================================================ //\n\nfunction onModuleClick(e) {\n  if (e.target !== e.currentTarget) {\n    if (e.target.closest(\"li\").dataset.id !== selectedId.selectedModule) {\n      let prevItem = document.querySelector(\n        \".list-module .list-module__item.select\"\n      );\n      if (prevItem) prevItem.classList.remove(\"select\");\n\n      e.target.classList.add(\"select\");\n      selectedId.selectedModule = e.target.closest(\"li\").dataset.id;\n      loadWords(selectedId.selectedModule);\n    }\n  }\n}\n// ============================================================ //\n"],"names":["$4gPPQ","parcelRequire","$7444c4569451fc47$var$cardElem","document","querySelector","$7444c4569451fc47$var$cardButtons","querySelectorAll","$7444c4569451fc47$var$minimizeCard","classList","add","setTimeout","remove","$7444c4569451fc47$var$loadNextWord","$7444c4569451fc47$var$selectedId","selectedWord","$7444c4569451fc47$var$listWords","length","$7444c4569451fc47$var$loadWordData","$7444c4569451fc47$var$loadPrevWord","index","eng","rus","replace","children","textContent","addEventListener","toggle","e","$7444c4569451fc47$var$refs","listModuleElement","$7444c4569451fc47$var$listModules","selectedCategory","selectedModule","async","default","startLoading","data","$1pYqf","DynamoAPI","getItems","innerHTML","$72Ldb","stopLoading","$7444c4569451fc47$var$loadData","target","currentTarget","closest","dataset","id","prevItem","idModule","info","fail","$7444c4569451fc47$var$loadWords"],"version":3,"file":"LearnModule.970d7847.js.map"}