!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},o=t.parcelRequirea2e2;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){l[e]=t},t.parcelRequirea2e2=o);var a=e(o("WMajR")).template({1:function(e,t,n,l,o){var a,d=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <input type="radio" name="sortType" value="'+c(typeof(a=null!=(a=s(n,"id")||(null!=t?s(t,"id"):t))?a:r)===u?a.call(d,{name:"id",hash:{},data:o,loc:{start:{line:2,column:47},end:{line:2,column:53}}}):a)+'" checked="checked" id="'+c(typeof(a=null!=(a=s(n,"id")||(null!=t?s(t,"id"):t))?a:r)===u?a.call(d,{name:"id",hash:{},data:o,loc:{start:{line:2,column:77},end:{line:2,column:83}}}):a)+'">\n    <label data-for="'+c(typeof(a=null!=(a=s(n,"id")||(null!=t?s(t,"id"):t))?a:r)===u?a.call(d,{name:"id",hash:{},data:o,loc:{start:{line:3,column:21},end:{line:3,column:27}}}):a)+'">'+c(typeof(a=null!=(a=s(n,"title")||(null!=t?s(t,"title"):t))?a:r)===u?a.call(d,{name:"title",hash:{},data:o,loc:{start:{line:3,column:29},end:{line:3,column:38}}}):a)+"</label>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:4,column:9}}}))?a:""},useData:!0});var d=e(o("WMajR")).template({1:function(e,t,n,l,o){var a,d=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li data-id="'+c(typeof(a=null!=(a=s(n,"id")||(null!=t?s(t,"id"):t))?a:r)===u?a.call(d,{name:"id",hash:{},data:o,loc:{start:{line:2,column:17},end:{line:2,column:23}}}):a)+'">'+c(typeof(a=null!=(a=s(n,"eng")||(null!=t?s(t,"eng"):t))?a:r)===u?a.call(d,{name:"eng",hash:{},data:o,loc:{start:{line:2,column:25},end:{line:2,column:32}}}):a)+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?a:""},useData:!0}),r=o("1tjgG"),u=o("iFVZs");let c=[],s=[],i=!1;const f={selectedCategory:"l7j8vhhs",selectedModuleForUpdate:null,selectedModuleForWords:null,selectedWords:null,selectedWord:null},p={moduleButtons:{createBtn:document.querySelector("input[type=button][data-type=create]"),updateBtn:document.querySelector("input[type=button][data-type=update]"),deleteBtn:document.querySelector("input[type=button][data-type=delete]")},wordButtons:{createBtn:document.querySelector(".js-quest-btn[data-type=create]"),updateBtn:document.querySelector(".js-quest-btn[data-type=update]"),deleteBtn:document.querySelector(".js-quest-btn[data-type=delete]")},listWordsContainer:document.querySelector(".admin-list-module"),form:document.querySelector(".admin-edit-words .content-modal")};let m=document.querySelector(".dropdown-el[data-type=modules]"),y=document.querySelector(".dropdown-el[data-type=words]");async function g(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.toggle("expanded");try{let t=`#${e.target.dataset.for}`;document.querySelector(t).checked=!0,document.addEventListener("click",h),"words"===e.currentTarget.dataset.type&&i&&(f.selectedModuleForWords=t.slice(1,t.length-4),s=await r.DynamoAPI.getItems("flash-cards-words",f.selectedModuleForWords,"idModule"),s.length>0?(L(s),u.default.info(`Завантаженно слів: ${s.length}`)):(u.default.fail("Нажаль у данній категорії слів немає("),s=[],L(s))),y.scrollTop=0}catch(e){console.log(e)}i=!i}function h(){try{m.classList.remove("expanded"),document.removeEventListener(h),i=!1}catch(e){}}function v(e){m.innerHTML=a(e),y.innerHTML=a([...e].map((e=>{let t={...e};return t.id+="word",t})))}function L(e){e=[...e].map((e=>{let t={...e};return t.eng=t.eng.length>10?t.eng.slice(0,10)+"...":t.eng,t})),p.listWordsContainer.innerHTML=d(e)}function w(e){e.currentTarget.closest("form").reset()}function M(e){return e.target.closest("form").elements}function k(){var e;null===(e=p.listWordsContainer.querySelector(".selected"))||void 0===e||e.classList.remove("selected"),f.selectedWord=null}m.addEventListener("click",g),y.addEventListener("click",g),document.addEventListener("DOMContentLoaded",(async function(){u.default.startLoading(),await async function(){u.default.startLoading(),c=await r.DynamoAPI.getItems("flash-cards-modules",f.selectedCategory,"idModule"),u.default.stopLoading()}(),v(c),L(s),u.default.stopLoading()})),p.moduleButtons.createBtn.addEventListener("click",(async function(e){e.preventDefault();let t=M(e).moduleValue.value;if(t=t.trim(),t.length>0){let e={title:t,idModule:f.selectedCategory};u.default.startLoading(),e.id=await r.DynamoAPI.createItem("flash-cards-modules",e),c.push(e),v(c),u.default.startLoading()}w(e)})),p.moduleButtons.updateBtn.addEventListener("click",(function(e){e.preventDefault();try{let t=[...e.currentTarget.closest("form").querySelectorAll("[checked]")].find((e=>e.checked)).value,n=M(e).moduleValue.value;if(n=n.trim(),n.length>0){let e={title:n,idModule:f.selectedCategory};r.DynamoAPI.updateItem("flash-cards-modules",t,e),c.find((e=>e.id==t)).title=e.title,v(c)}}catch{}w(e)})),p.moduleButtons.deleteBtn.addEventListener("click",(function(e){e.preventDefault();let t=M(e).moduleValue.value;if(t.length>0){let e=c.find((e=>e.title===t));e&&(r.DynamoAPI.deleteItem("flash-cards-modules",e.id),c=c.filter((e=>e.title!==t)))}v(c),w(e)})),p.wordButtons.createBtn.addEventListener("click",(async function(e){e.preventDefault();let t=M(e),n={eng:t.eng.value,rus:t.rus.value,idModule:f.selectedModuleForWords};if(n.idModule&&(n.eng||n.rus)){u.default.startLoading();const e=await r.DynamoAPI.createItem("flash-cards-words",n);n.id=e,s.push(n),L(s),u.default.stopLoading()}k(),w(e)})),p.wordButtons.updateBtn.addEventListener("click",(function(e){if(e.preventDefault(),f.selectedWord){let t=M(e),n={eng:t.eng.value,rus:t.rus.value,idModule:f.selectedModuleForWords};r.DynamoAPI.updateItem("flash-cards-words",f.selectedWord,n);let l=s.find((e=>e.id===f.selectedWord));l.eng=n.eng,l.rus=n.rus,L(s),k()}w(e)})),p.wordButtons.deleteBtn.addEventListener("click",(function(e){e.preventDefault(),f.selectedWord&&(r.DynamoAPI.deleteItem("flash-cards-words",f.selectedWord),s=s.filter((e=>e.id!==f.selectedWord)),L(s));k(),w(e)})),p.listWordsContainer.addEventListener("click",(async function(e){if("LI"===e.target.nodeName)try{k(),e.target.classList.add("selected");let t=e.target.dataset.id,n=s.find((e=>e.id===t));p.form.elements.eng.value=n.eng,p.form.elements.rus.value=n.rus,f.selectedWord=n.id}catch{}else p.form.reset(),k()}))}();
//# sourceMappingURL=AdminPanel.b056d534.js.map
