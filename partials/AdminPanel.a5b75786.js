!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},o=t.parcelRequirea2e2;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){l[e]=t},t.parcelRequirea2e2=o);var a=e(o("WMajR")).template({1:function(e,t,n,l,o){var a,r=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d="function",c=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <input type="radio" name="sortType" value="'+c(typeof(a=null!=(a=i(n,"id")||(null!=t?i(t,"id"):t))?a:u)===d?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:2,column:47},end:{line:2,column:53}}}):a)+'" checked="checked" id="'+c(typeof(a=null!=(a=i(n,"id")||(null!=t?i(t,"id"):t))?a:u)===d?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:2,column:77},end:{line:2,column:83}}}):a)+'">\n    <label data-for="'+c(typeof(a=null!=(a=i(n,"id")||(null!=t?i(t,"id"):t))?a:u)===d?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:3,column:21},end:{line:3,column:27}}}):a)+'">'+c(typeof(a=null!=(a=i(n,"title")||(null!=t?i(t,"title"):t))?a:u)===d?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:3,column:29},end:{line:3,column:38}}}):a)+"</label>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:4,column:9}}}))?a:""},useData:!0});var r=e(o("WMajR")).template({1:function(e,t,n,l,o){var a,r=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d="function",c=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li data-id="'+c(typeof(a=null!=(a=i(n,"id")||(null!=t?i(t,"id"):t))?a:u)===d?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:2,column:17},end:{line:2,column:23}}}):a)+'">'+c(typeof(a=null!=(a=i(n,"eng")||(null!=t?i(t,"eng"):t))?a:u)===d?a.call(r,{name:"eng",hash:{},data:o,loc:{start:{line:2,column:25},end:{line:2,column:32}}}):a)+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,o){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?a:""},useData:!0}),u=o("1tjgG");let d=[],c=[];const i={selectedCategory:"l7j8vhhs",selectedModuleForUpdate:null,selectedModuleForWords:null,selectedWords:null},s={moduleButtons:{createBtn:document.querySelector("input[type=button][data-type=create]"),updateBtn:document.querySelector("input[type=button][data-type=update]"),deleteBtn:document.querySelector("input[type=button][data-type=delete]")},wordButtons:{createBtn:document.querySelector(".js-quest-btn[data-type=create]"),updateBtn:document.querySelector(".js-quest-btn[data-type=update]"),deleteBtn:document.querySelector(".js-quest-btn[data-type=delete]")},listWordsContainer:document.querySelector(".admin-list-module")};let p=document.querySelector(".dropdown-el[data-type=modules]"),m=document.querySelector(".dropdown-el[data-type=words]");function f(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.toggle("expanded");try{let t=`#${e.target.dataset.for}`;document.querySelector(t).checked=!0,document.addEventListener("click",y),"words"===e.currentTarget.dataset.type&&(i.selectedModuleForWords=t.slice(1,t.length-4))}catch(e){console.log(e)}e.currentTarget.classList.contains("expanded")||(e.currentTarget.scrollTop=0)}function y(){try{p.classList.remove("expanded"),document.removeEventListener(y)}catch(e){}}function h(e){p.innerHTML=a(e),m.innerHTML=a([...e].map((e=>{let t={...e};return t.id+="word",t})))}function g(e){e=[...e].map((e=>{let t={...e};return t.eng=t.eng.length>10?t.eng.slice(0,10)+"...":t.eng,t})),s.listWordsContainer.innerHTML=r(e)}function v(e){e.currentTarget.closest("form").reset()}function w(e){return e.target.closest("form").elements}p.addEventListener("click",f),m.addEventListener("click",f),document.addEventListener("DOMContentLoaded",(async function(){await async function(){d=await u.DynamoAPI.getItems("flash-cards-modules",i.selectedCategory,"idModule")}(),h(d),g(c)})),s.moduleButtons.createBtn.addEventListener("click",(async function(e){e.preventDefault();let t=w(e).moduleValue.value;if(t=t.trim(),t.length>0){let e={title:t,idModule:i.selectedCategory};e.id=await u.DynamoAPI.createItem("flash-cards-modules",e),d.push(e),h(d)}v(e)})),s.moduleButtons.updateBtn.addEventListener("click",(function(e){e.preventDefault();try{let t=[...e.currentTarget.closest("form").querySelectorAll("[checked]")].find((e=>e.checked)).value,n=w(e).moduleValue.value;if(n=n.trim(),n.length>0){let e={title:n,idModule:i.selectedCategory};u.DynamoAPI.updateItem("flash-cards-modules",t,e),d.find((e=>e.id==t)).title=e.title,h(d)}}catch{}v(e)})),s.moduleButtons.deleteBtn.addEventListener("click",(function(e){e.preventDefault();let t=w(e).moduleValue.value;if(t.length>0){let e=d.find((e=>e.title===t));e&&(u.DynamoAPI.deleteItem("flash-cards-modules",e.id),d=d.filter((e=>e.title!==t)))}h(d),v(e)})),s.wordButtons.createBtn.addEventListener("click",(async function(e){e.preventDefault();let t=w(e),n={eng:t.eng.value,rus:t.rus.value,idModule:i.selectedModuleForWords};n.idModule&&(n.eng||n.rus)&&(id=await u.DynamoAPI.createItem("flash-cards-words",n),n.id=id,c.push(n),g(c));v(e)})),s.wordButtons.updateBtn.addEventListener("click",(function(e){e.preventDefault(),v(e)})),s.wordButtons.deleteBtn.addEventListener("click",(function(e){e.preventDefault(),v(e)}))}();
//# sourceMappingURL=AdminPanel.a5b75786.js.map
