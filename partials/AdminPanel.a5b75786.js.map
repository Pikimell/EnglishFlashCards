{"mappings":"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","sources":["src/templates/selectComponent.hbs","src/templates/wordListTemplate.hbs","src/js/adminPanel.js"],"sourcesContent":["{{#each this}}\n    <input type=\"radio\" name=\"sortType\" value=\"{{id}}\" checked=\"checked\" id=\"{{id}}\">\n    <label data-for=\"{{id}}\">{{title}}</label>\n{{/each}}","{{#each this}}\n    <li data-id=\"{{id}}\">{{eng}}</li>\n{{/each}}","// ===================================================== //\nimport moduleListTemplate from \"../templates/selectComponent.hbs\";\nimport wordListTemplate from \"../templates/wordListTemplate.hbs\";\nimport { DynamoAPI } from \"./modules/store/dynamo\";\n// ===================================================== //\n\nlet listModules = [];\nlet listWords = [];\n\nconst selectedID = {\n  selectedCategory: \"l7j8vhhs\",\n  selectedModuleForUpdate: null,\n  selectedModuleForWords: null,\n  selectedWords: null,\n};\n\nconst refs = {\n  moduleButtons: {\n    createBtn: document.querySelector(\"input[type=button][data-type=create]\"),\n    updateBtn: document.querySelector(\"input[type=button][data-type=update]\"),\n    deleteBtn: document.querySelector(\"input[type=button][data-type=delete]\"),\n  },\n  wordButtons: {\n    createBtn: document.querySelector(\".js-quest-btn[data-type=create]\"),\n    updateBtn: document.querySelector(\".js-quest-btn[data-type=update]\"),\n    deleteBtn: document.querySelector(\".js-quest-btn[data-type=delete]\"),\n  },\n  listWordsContainer: document.querySelector(\".admin-list-module\"),\n};\n\n// ===================================================== //\nlet myListModules = document.querySelector(\".dropdown-el[data-type=modules]\");\nlet myListWords = document.querySelector(\".dropdown-el[data-type=words]\");\n\nmyListModules.addEventListener(\"click\", onListClick);\nmyListWords.addEventListener(\"click\", onListClick);\n\nfunction onListClick(e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.currentTarget.classList.toggle(\"expanded\");\n  try {\n    let id = `#${e.target.dataset.for}`;\n    document.querySelector(id).checked = true;\n    document.addEventListener(\"click\", closeSelect);\n\n    if (e.currentTarget.dataset.type === \"words\") {\n      selectedID.selectedModuleForWords = id.slice(1, id.length - 4);\n    }\n  } catch (err) {\n    console.log(err);\n  }\n  if (!e.currentTarget.classList.contains(\"expanded\")) {\n    e.currentTarget.scrollTop = 0;\n  }\n}\nfunction closeSelect() {\n  try {\n    myListModules.classList.remove(\"expanded\");\n    document.removeEventListener(closeSelect);\n  } catch (err) {}\n}\n// ===================================================== //\n\nasync function loadListItems() {\n  listModules = await DynamoAPI.getItems(\n    \"flash-cards-modules\",\n    selectedID.selectedCategory,\n    \"idModule\"\n  );\n}\n\nfunction renderListModule(renderList) {\n  myListModules.innerHTML = moduleListTemplate(renderList);\n  myListWords.innerHTML = moduleListTemplate(\n    [...renderList].map((obj) => {\n      let copyObj = { ...obj };\n      copyObj.id += \"word\";\n      return copyObj;\n    })\n  );\n}\n\nfunction renderListWords(renderList) {\n  renderList = [...renderList].map((obj) => {\n    let copyObj = { ...obj };\n    copyObj.eng =\n      copyObj.eng.length > 10 ? copyObj.eng.slice(0, 10) + \"...\" : copyObj.eng;\n    return copyObj;\n  });\n  refs.listWordsContainer.innerHTML = wordListTemplate(renderList);\n}\n\nasync function onBodyLoad() {\n  await loadListItems();\n  renderListModule(listModules);\n  renderListWords(listWords);\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", onBodyLoad);\n// ===================================================== //\n\nrefs.moduleButtons.createBtn.addEventListener(\"click\", onCreateModuleClick);\nrefs.moduleButtons.updateBtn.addEventListener(\"click\", onUpdateModuleClick);\nrefs.moduleButtons.deleteBtn.addEventListener(\"click\", onDeleteModuleClick);\n\nrefs.wordButtons.createBtn.addEventListener(\"click\", onCreateWordClick);\nrefs.wordButtons.updateBtn.addEventListener(\"click\", onUpdateWordClick);\nrefs.wordButtons.deleteBtn.addEventListener(\"click\", onDeleteWordClick);\n\n// ===================================================== //\n\nasync function onCreateWordClick(e) {\n  e.preventDefault();\n  let data = getFormData(e);\n\n  let word = {\n    eng: data.eng.value,\n    rus: data.rus.value,\n    idModule: selectedID.selectedModuleForWords,\n  };\n\n  if (word.idModule && (word.eng || word.rus)) {\n    id = await DynamoAPI.createItem(\"flash-cards-words\", word);\n    word.id = id;\n    listWords.push(word);\n    renderListWords(listWords);\n  }\n\n  resetFormData(e);\n}\n\nfunction onUpdateWordClick(e) {\n  e.preventDefault();\n\n  resetFormData(e);\n}\n\nfunction onDeleteWordClick(e) {\n  e.preventDefault();\n\n  resetFormData(e);\n}\n\nasync function onCreateModuleClick(e) {\n  e.preventDefault();\n  let nameModule = getFormData(e).moduleValue.value;\n  nameModule = nameModule.trim();\n  if (nameModule.length > 0) {\n    let module = {\n      title: nameModule,\n      idModule: selectedID.selectedCategory,\n    };\n    module.id = await DynamoAPI.createItem(\"flash-cards-modules\", module);\n    listModules.push(module);\n    renderListModule(listModules);\n  }\n  resetFormData(e);\n}\n\nfunction onUpdateModuleClick(e) {\n  e.preventDefault();\n  try {\n    let idModule = [\n      ...e.currentTarget.closest(\"form\").querySelectorAll(\"[checked]\"),\n    ].find((obj) => obj.checked).value;\n\n    let nameModule = getFormData(e).moduleValue.value;\n    nameModule = nameModule.trim();\n    if (nameModule.length > 0) {\n      let module = {\n        title: nameModule,\n        idModule: selectedID.selectedCategory,\n      };\n\n      DynamoAPI.updateItem(\"flash-cards-modules\", idModule, module);\n      listModules.find((obj) => obj.id == idModule).title = module.title;\n      renderListModule(listModules);\n    }\n  } catch {}\n\n  resetFormData(e);\n}\n\nfunction onDeleteModuleClick(e) {\n  e.preventDefault();\n  let nameModule = getFormData(e).moduleValue.value;\n  if (nameModule.length > 0) {\n    let module = listModules.find((obj) => obj.title === nameModule);\n    if (module) {\n      DynamoAPI.deleteItem(\"flash-cards-modules\", module.id);\n      listModules = listModules.filter((obj) => obj.title !== nameModule);\n    }\n  }\n  renderListModule(listModules);\n  resetFormData(e);\n}\n\n// ===================================================== //\n\nfunction resetFormData(e) {\n  let form = e.currentTarget.closest(\"form\");\n  form.reset();\n}\n\nfunction getFormData(e) {\n  let form = e.target.closest(\"form\");\n  return form.elements;\n}\n\n// ===================================================== //\n"],"names":["$7d6f37c254102098$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$2b6307d6be898219$export$2e2bcd8739ae039","$809be665a3ea9f24$var$listModules","$809be665a3ea9f24$var$listWords","$809be665a3ea9f24$var$selectedID","selectedCategory","selectedModuleForUpdate","selectedModuleForWords","selectedWords","$809be665a3ea9f24$var$refs","moduleButtons","createBtn","document","querySelector","updateBtn","deleteBtn","wordButtons","listWordsContainer","$809be665a3ea9f24$var$myListModules","$809be665a3ea9f24$var$myListWords","$809be665a3ea9f24$var$onListClick","e","preventDefault","stopPropagation","currentTarget","classList","toggle","id1","target","dataset","for","checked","addEventListener","$809be665a3ea9f24$var$closeSelect","type","slice","length","err","console","log","contains","scrollTop","remove","removeEventListener","$809be665a3ea9f24$var$renderListModule","renderList","innerHTML","map","obj","copyObj","id","$809be665a3ea9f24$var$renderListWords","eng","$809be665a3ea9f24$var$resetFormData","closest","reset","$809be665a3ea9f24$var$getFormData","elements","async","$1tjgG","DynamoAPI","getItems","$809be665a3ea9f24$var$loadListItems","nameModule","moduleValue","value","trim","module","title","idModule","createItem","push","querySelectorAll","find","updateItem","deleteItem","filter","word","rus"],"version":3,"file":"AdminPanel.a5b75786.js.map"}